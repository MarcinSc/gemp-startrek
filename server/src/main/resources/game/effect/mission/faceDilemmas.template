{
  "type": "sequence",
  "memory": "facingDilemmaSequence",
  "actions": [
    {
      "type": "moveTopDilemmaStackCardToStack",
      "memory": "dilemmaCard"
    },
    {
      "type": "condition",
      "condition": "lessOrEqual(costToPlay(memory(dilemmaCard)),memory(dilemmaPointsLeft))",
      "memory": "checkForDilemmaCost",
      "trueEffect": {
        "type": "condition",
        "condition": "and(not(titleInMemory(facedDilemmas,memory(dilemmaCard))),missionTypeMatchesAttempted(memory(dilemmaCard)))",
        "memory": "checkForDilemmaRequirements",
        "trueEffect": {
          "tpl:extends": "game/effect/mission/faceOneDilemma.template"
        },
        "falseEffect": {
          "type": "overcomeDilemma",
          "cardMemory": "dilemmaCard"
        }
      },
      "falseEffect": {
        "type": "sequence",
        "memory": "overcomeRemainingDilemmas",
        "actions": [
          {
            "type": "overcomeDilemma",
            "cardMemory": "dilemmaCard"
          },
          {
            "type": "overcomeRemainingDilemmasInStack"
          }
        ]
      }
    }
  ]
}